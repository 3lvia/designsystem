@use "../../utilities/icons.scss";

@mixin setPadding($padding, $paddingFocus) {
  .e-input {
    input,
    input:invalid,
    input:disabled {
      padding: $padding;
    }
    input:focus {
      padding: $paddingFocus;
    }
  }
}

.e-search {
  position: relative;
  @extend .e-search--normal;
  ::-ms-clear {
    display: none;
  }

  &.e-search--normal {
    font-family: 'Red Hat Text';
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;
    @include setPadding((12px 48px 12px 15px), (11px 47px 11px 14px));

    .e-btn.e-btn--icon {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 32px;
      height: 32px;
      @media screen and (-ms-high-contrast: none) {
        top: 7px;
      }
      .e-btn__icon {
        @include icons.icon-size('xs');
        i[class*='e-icon--search-bold'] {
          visibility: visible;
          position: absolute;
          display: flex;
          top: 0px;
        }
        i[class*='e-icon--close-bold'] {
          visibility: hidden;
          position: absolute;
          display: flex;
          top: 0px;
          left: -8px;
        }
      }
    }

    &.e-search--searched {
      .e-btn.e-btn--icon .e-btn__icon {
        i[class*='e-icon--search-bold'] {
          visibility: hidden;
        }
        i[class*='e-icon--close-bold'] {
          visibility: visible;
        }
      }
    }
  }

  &.e-search--instant {
    display: flex;
    align-items: center;
    @include setPadding((12px 15px 12px 15px), (11px 14px 11px 14px));

    .e-search__icon {
      @include icons.icon-size('sm');
      margin-right: 14px;
    }

    .e-btn.e-btn--icon {
      visibility: hidden;
    }

    &.e-search--searched {
      @include setPadding((12px 48px 12px 15px), (11px 47px 11px 14px));

      .e-btn.e-btn--icon {
        visibility: visible;
        .e-btn__icon {
          i[class*='e-icon--search-bold'] {
            visibility: hidden;
          }
        }
      }
    }
  }
}
