@use "../variables/colors";
@use "../utilities/helpers";

$tooltip-border-width: 7px;
$tooltip-border-style: $tooltip-border-width solid;
$tooltip-margin-offset: -($tooltip-border-width);
$tooltop-margin-horizontal-offset: 14px;
$tooltip-vertical-transform: translate(-50%, 0);
$tooltip-horizontal-transform: translate(0, -50%);
$tooltip-padding: 8px 10px;

.e-tooltip {
  // Variable containing '&' to jump to current parent inside a child class.
  $this: &;
  position: relative;
  display: inline-block;
  box-sizing: border-box;
  line-height: 0;
  cursor: pointer;
  // only focus effect is currently a visible toooltip.
  outline: none;

  &:hover,
  &:focus {
    #{$this}__content {
      @extend .e-tooltip__content, .is-active;
    }
  }

  &__content {
    position: absolute;
    opacity: 0;
    z-index: -1;
    width: auto;
    background-color: colors.color('grey-80');
    padding: $tooltip-padding;
    border-radius: 4px;
    transition: 250ms;
    // tooltip spesific font style
    font-family: 'Red Hat Text', Verdana, sans-serif;
    font-size: 14px;
    font-weight: 400;
    line-height: 19px;
    letter-spacing: 0.002em;
    color: colors.color('font-color-light');

    // Defaults .e-tooltip_content---top if no direction class is applied.
    &:not(.e-tooltip__content--bottom) {
      @extend .e-tooltip__content--top;
    }

    &.e-tooltip__content--bottom {
      top: 100%;
      left: 50%;
      margin-top: $tooltop-margin-horizontal-offset;
      @include helpers.transform($tooltip-vertical-transform);

      &::after {
        content: '';
        position: absolute;
        bottom: 100%;
        left: 50%;
        margin-left: $tooltip-margin-offset;
        border: $tooltip-border-style;
        border-color: transparent transparent colors.color('grey-80') transparent;
      }
    }

    &.e-tooltip__content--top {
      bottom: 100%;
      left: 50%;
      margin-bottom: $tooltop-margin-horizontal-offset;
      @include helpers.transform($tooltip-vertical-transform);

      &::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: $tooltip-margin-offset;
        border: $tooltip-border-style;
        border-color: colors.color('grey-80') transparent transparent transparent;
      }
    }

    &.e-tooltip__content--left {
      top: 50%;
      right: 150%;
      bottom: auto;
      left: auto;
      @include helpers.transform($tooltip-horizontal-transform);

      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: calc(100% + 7px);
        margin-top: $tooltip-margin-offset;
        border: $tooltip-border-style;
        border-color: transparent transparent transparent colors.color('grey-80');
      }
    }

    &.e-tooltip__content--right {
      top: 50%;
      left: 150%;
      bottom: auto;
      right: auto;
      @include helpers.transform($tooltip-horizontal-transform);

      &::after {
        content: '';
        position: absolute;
        top: 50%;
        left: calc(0% - 7px);
        margin-top: $tooltip-margin-offset;
        border: $tooltip-border-style;
        border-color: transparent colors.color('grey-80') transparent transparent;
      }
    }

    &.is-active {
      animation: TooltipFadeIn 500ms 750ms forwards;
    }
  }
}

@keyframes TooltipFadeIn {
  0% {
    opacity: 0;
    z-index: -1;
  }

  100% {
    opacity: 1;
    z-index: 90;
  }
}
