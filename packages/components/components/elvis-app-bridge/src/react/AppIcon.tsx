import { getThemeColor } from '@elvia/elvis-colors';
import { getTypographyCss } from '@elvia/elvis-typography';
import styled from '@emotion/styled';
import React from 'react';

import { SystemLink } from './getLinks';

const IconContainer = styled.div`
  position: relative;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  overflow: hidden;
  object-fit: fill;
`;

const Icon = styled.div`
  position: absolute;
  width: 100%;
  height: 100%;

  svg {
    width: 100%;
    height: 100%;
  }
`;

const IconLetters = styled.div`
  ${getTypographyCss('text-sm-strong')};
  font-size: 0.75rem;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${getThemeColor('static-white')};

  position: relative;
  height: 100%;
`;

const SalesforceIcon: React.FC = () => {
  return (
    <IconContainer>
      <Icon>
        <svg xmlns="http://www.w3.org/2000/svg" width="2500" height="1750" viewBox="0.5 0.5 999 699.242">
          <path
            fill="#00A1E0"
            d="M416.224 76.763c32.219-33.57 77.074-54.391 126.682-54.391 65.946 0 123.48 36.772 154.12 91.361 26.626-11.896 56.098-18.514 87.106-18.514 118.94 0 215.368 97.268 215.368 217.247 0 119.993-96.428 217.261-215.368 217.261a213.735 213.735 0 0 1-42.422-4.227c-26.981 48.128-78.397 80.646-137.412 80.646-24.705 0-48.072-5.706-68.877-15.853-27.352 64.337-91.077 109.448-165.348 109.448-77.344 0-143.261-48.939-168.563-117.574-11.057 2.348-22.513 3.572-34.268 3.572C75.155 585.74.5 510.317.5 417.262c0-62.359 33.542-116.807 83.378-145.937-10.26-23.608-15.967-49.665-15.967-77.06C67.911 87.25 154.79.5 261.948.5c62.914 0 118.827 29.913 154.276 76.263"
          />
          <path
            fill="#FFF"
            d="M145.196 363.11c-.626 1.637.228 1.979.427 2.263 1.878 1.366 3.786 2.349 5.707 3.444 10.189 5.407 19.81 6.986 29.871 6.986 20.492 0 33.214-10.9 33.214-28.447v-.341c0-16.224-14.358-22.115-27.835-26.37l-1.75-.569c-10.161-3.302-18.927-6.147-18.927-12.836v-.355c0-5.721 5.123-9.934 13.064-9.934 8.823 0 19.297 2.932 26.042 6.66 0 0 1.978 1.281 2.704-.64.398-1.025 3.814-10.218 4.17-11.214.384-1.082-.299-1.879-.996-2.306-7.699-4.682-18.344-7.884-29.358-7.884l-2.049.014c-18.756 0-31.848 11.328-31.848 27.565v.342c0 17.119 14.444 22.669 27.978 26.54l2.177.669c9.862 3.031 18.358 5.635 18.358 12.58v.342c0 6.347-5.521 11.071-14.43 11.071-3.458 0-14.487-.071-26.398-7.6-1.438-.84-2.277-1.451-3.387-2.12-.583-.37-2.049-1.011-2.689.925l-4.045 11.215zm299.998 0c-.626 1.637.228 1.979.427 2.263 1.878 1.366 3.786 2.349 5.706 3.444 10.189 5.407 19.811 6.986 29.871 6.986 20.492 0 33.215-10.9 33.215-28.447v-.341c0-16.224-14.359-22.115-27.836-26.37l-1.75-.569c-10.161-3.302-18.928-6.147-18.928-12.836v-.355c0-5.721 5.123-9.934 13.064-9.934 8.823 0 19.297 2.932 26.043 6.66 0 0 1.978 1.281 2.703-.64.398-1.025 3.814-10.218 4.17-11.214.385-1.082-.299-1.879-.996-2.306-7.699-4.682-18.344-7.884-29.358-7.884l-2.05.014c-18.756 0-31.848 11.328-31.848 27.565v.342c0 17.119 14.444 22.669 27.978 26.54l2.177.669c9.862 3.031 18.373 5.635 18.373 12.58v.342c0 6.347-5.536 11.071-14.445 11.071-3.457 0-14.486-.071-26.397-7.6-1.438-.84-2.291-1.423-3.372-2.12-.371-.242-2.107-.911-2.705.925l-4.042 11.215zm204.801-34.37c0 9.919-1.85 17.731-5.493 23.253-3.601 5.465-9.051 8.126-16.649 8.126-7.613 0-13.035-2.647-16.579-8.126-3.587-5.507-5.407-13.334-5.407-23.253 0-9.904 1.82-17.703 5.407-23.168 3.544-5.407 8.966-8.04 16.579-8.04 7.599 0 13.049 2.633 16.664 8.04 3.629 5.464 5.478 13.263 5.478 23.168m17.106-18.386c-1.68-5.679-4.298-10.688-7.784-14.857-3.487-4.184-7.898-7.542-13.136-9.99-5.223-2.433-11.398-3.671-18.328-3.671-6.945 0-13.121 1.238-18.344 3.671-5.237 2.448-9.648 5.807-13.149 9.99-3.472 4.184-6.091 9.193-7.784 14.857-1.665 5.649-2.505 11.825-2.505 18.386s.84 12.751 2.505 18.386c1.693 5.664 4.298 10.674 7.799 14.857 3.486 4.184 7.912 7.528 13.135 9.904 5.236 2.377 11.398 3.586 18.344 3.586 6.93 0 13.092-1.209 18.328-3.586 5.223-2.376 9.648-5.721 13.136-9.904 3.486-4.17 6.104-9.179 7.784-14.857 1.68-5.649 2.519-11.84 2.519-18.386s-.841-12.737-2.52-18.386m140.467 47.116c-.569-1.665-2.177-1.039-2.177-1.039-2.49.954-5.138 1.836-7.955 2.277-2.861.44-6.006.669-9.379.669-8.281 0-14.856-2.462-19.566-7.329-4.725-4.867-7.372-12.736-7.344-23.381.029-9.691 2.362-16.978 6.561-22.527 4.17-5.521 10.517-8.354 18.984-8.354 7.059 0 12.438.811 18.072 2.59 0 0 1.352.583 1.992-1.181 1.494-4.156 2.604-7.13 4.198-11.698.456-1.295-.654-1.85-1.053-2.007-2.22-.868-7.457-2.276-11.413-2.874-3.7-.569-8.026-.868-12.836-.868-7.188 0-13.591 1.224-19.069 3.672-5.465 2.433-10.104 5.791-13.775 9.976-3.672 4.184-6.461 9.192-8.325 14.856-1.85 5.649-2.789 11.854-2.789 18.415 0 14.188 3.828 25.657 11.385 34.054 7.57 8.425 18.941 12.708 33.77 12.708 8.766 0 17.76-1.778 24.221-4.326 0 0 1.238-.598.697-2.034l-4.199-11.599zm29.929-38.232c.811-5.507 2.334-10.09 4.682-13.661 3.544-5.422 8.951-8.396 16.551-8.396s12.623 2.988 16.223 8.396c2.391 3.571 3.43 8.354 3.843 13.661h-41.299zm57.592-12.111c-1.451-5.479-5.052-11.015-7.414-13.548-3.729-4.013-7.371-6.816-10.986-8.382-4.725-2.021-10.389-3.358-16.593-3.358-7.229 0-13.79 1.21-19.112 3.714-5.336 2.505-9.818 5.921-13.334 10.176-3.516 4.24-6.162 9.292-7.842 15.027-1.693 5.707-2.547 11.926-2.547 18.485 0 6.675.883 12.894 2.633 18.486 1.765 5.636 4.582 10.602 8.396 14.714 3.799 4.142 8.695 7.387 14.558 9.648 5.821 2.249 12.894 3.416 21.019 3.401 16.722-.057 25.53-3.785 29.159-5.792.641-.355 1.253-.981.483-2.774l-3.785-10.603c-.568-1.579-2.177-.996-2.177-.996-4.142 1.537-10.032 4.298-23.766 4.27-8.979-.014-15.64-2.661-19.81-6.803-4.283-4.24-6.375-10.474-6.745-19.268l57.905.057s1.522-.028 1.68-1.509c.057-.624 1.993-11.895-1.722-24.945m-521.327 12.111c.825-5.507 2.334-10.09 4.682-13.661 3.543-5.422 8.951-8.396 16.55-8.396s12.623 2.988 16.237 8.396c2.376 3.571 3.415 8.354 3.828 13.661h-41.297zm57.577-12.111c-1.451-5.479-5.037-11.015-7.399-13.548-3.729-4.013-7.372-6.816-10.986-8.382-4.725-2.021-10.388-3.358-16.593-3.358-7.215 0-13.79 1.21-19.112 3.714-5.336 2.505-9.819 5.921-13.334 10.176-3.515 4.24-6.162 9.292-7.841 15.027-1.679 5.707-2.547 11.926-2.547 18.485 0 6.675.882 12.894 2.633 18.486 1.765 5.636 4.583 10.602 8.396 14.714 3.8 4.142 8.695 7.387 14.558 9.648 5.821 2.249 12.893 3.416 21.019 3.401 16.721-.057 25.53-3.785 29.159-5.792.641-.355 1.252-.981.484-2.774l-3.771-10.603c-.584-1.579-2.191-.996-2.191-.996-4.141 1.537-10.019 4.298-23.78 4.27-8.965-.014-15.625-2.661-19.795-6.803-4.284-4.24-6.375-10.474-6.746-19.268l57.905.057s1.522-.028 1.679-1.509c.055-.624 1.99-11.895-1.738-24.945m-182.738 50.026c-2.263-1.808-2.576-2.263-3.344-3.43-1.139-1.779-1.722-4.312-1.722-7.528 0-5.095 1.679-8.752 5.166-11.214-.042.015 4.981-4.34 16.792-4.184 8.296.114 15.71 1.338 15.71 1.338v26.327h.014s-7.357 1.579-15.639 2.077c-11.783.712-17.02-3.4-16.977-3.386m23.039-40.686c-2.348-.171-5.394-.271-9.037-.271-4.966 0-9.762.626-14.259 1.836-4.525 1.209-8.595 3.103-12.096 5.606a27.927 27.927 0 0 0-8.396 9.549c-2.049 3.814-3.088 8.311-3.088 13.349 0 5.123.882 9.577 2.647 13.221 1.765 3.657 4.312 6.702 7.556 9.051 3.216 2.348 7.187 4.069 11.797 5.108 4.54 1.039 9.691 1.565 15.327 1.565 5.934 0 11.854-.483 17.589-1.466 5.678-.968 12.651-2.377 14.586-2.817a146.25 146.25 0 0 0 4.056-1.039c1.438-.355 1.324-1.893 1.324-1.893l-.029-52.952c0-11.613-3.102-20.223-9.207-25.559-6.077-5.322-15.028-8.013-26.597-8.013-4.341 0-11.328.599-15.512 1.438 0 0-12.651 2.448-17.86 6.518 0 0-1.138.712-.512 2.306l4.099 11.015c.512 1.423 1.893.939 1.893.939s.441-.171.954-.47c11.143-6.062 25.231-5.877 25.231-5.877 6.262 0 11.072 1.252 14.316 3.742 3.159 2.419 4.767 6.076 4.767 13.789v2.448a209.677 209.677 0 0 0-9.549-1.123m467.029-29.836c.44-1.31-.484-1.936-.869-2.078-.981-.384-5.905-1.423-9.705-1.665-7.271-.441-11.312.783-14.928 2.405-3.586 1.622-7.57 4.24-9.791 7.215v-7.044c0-.982-.697-1.765-1.665-1.765h-14.843c-.967 0-1.664.782-1.664 1.765v86.366c0 .968.797 1.765 1.764 1.765h15.213a1.76 1.76 0 0 0 1.75-1.765v-43.147c0-5.792.641-11.569 1.922-15.198 1.252-3.587 2.96-6.461 5.066-8.525 2.12-2.049 4.525-3.486 7.158-4.297 2.689-.826 5.663-1.096 7.77-1.096 3.031 0 6.361.782 6.361.782 1.109.128 1.736-.555 2.105-1.565.997-2.647 3.815-10.574 4.356-12.153"
          />
          <path
            fill="#FFF"
            d="M595.874 246.603c-1.85-.569-3.529-.954-5.721-1.366-2.221-.398-4.867-.598-7.869-.598-10.475 0-18.729 2.96-24.52 8.794-5.764 5.807-9.678 14.644-11.642 26.271l-.712 3.913h-13.148s-1.594-.057-1.936 1.68l-2.148 12.053c-.157 1.139.342 1.864 1.878 1.864h12.794l-12.979 72.463c-1.011 5.835-2.178 10.631-3.473 14.273-1.267 3.587-2.504 6.276-4.041 8.24-1.48 1.879-2.875 3.273-5.295 4.084-1.992.669-4.297.982-6.816.982-1.395 0-3.258-.229-4.639-.513-1.366-.271-2.092-.569-3.131-1.011 0 0-1.494-.568-2.092.926-.47 1.238-3.885 10.615-4.298 11.769-.398 1.152.171 2.049.896 2.319 1.708.598 2.974.996 5.294 1.551 3.217.755 5.934.797 8.481.797 5.322 0 10.189-.754 14.217-2.205 4.042-1.466 7.57-4.014 10.701-7.457 3.373-3.729 5.493-7.628 7.515-12.964 2.006-5.266 3.729-11.812 5.094-19.439l13.05-73.815h19.069s1.607.057 1.936-1.693l2.162-12.039c.143-1.152-.341-1.864-1.893-1.864h-18.514c.1-.412.939-6.931 3.06-13.063.911-2.604 2.618-4.725 4.056-6.177 1.424-1.423 3.06-2.433 4.854-3.017 1.835-.598 3.928-.882 6.219-.882 1.736 0 3.457.199 4.752.469 1.793.385 2.49.584 2.961.727 1.893.569 2.148.014 2.519-.896l4.426-12.153c.455-1.312-.669-1.867-1.067-2.023m-258.68 125.231c0 .968-.697 1.751-1.665 1.751h-15.355c-.968 0-1.651-.783-1.651-1.751v-123.58c0-.967.683-1.75 1.651-1.75h15.355c.968 0 1.665.783 1.665 1.75v123.58z"
          />
        </svg>
      </Icon>
    </IconContainer>
  );
};

const IfsIcon: React.FC = () => {
  return (
    <IconContainer>
      <Icon>
        <svg xmlns="http://www.w3.org/2000/svg" width="57" height="57" viewBox="0 0 57 57" fill="none">
          <g clipPath="url(#b2)">
            <mask
              id="a1"
              style={{ maskType: 'luminance' }}
              maskUnits="userSpaceOnUse"
              x="0"
              y="0"
              width="57"
              height="57"
            >
              <path
                d="M41.5 39.2C41.4 39.3 41.4 39.5 41.5 39.7L47.6 46.9C48.1 47.5 49.1 47.4 49.7 46.8C50.2 46.2 50.3 45.2 49.6 44.7L42 39.1C41.9 39 41.8 39 41.8 39C41.7 39.1 41.6 39.1 41.5 39.2ZM36.3 38.5C36.1 38.6 36 38.8 36 39L39.3 52.6C39.5 53.4 40.4 53.8 41.2 53.5C42 53.2 42.5 52.4 42.2 51.6L36.8 38.7C36.7 38.6 36.6 38.5 36.5 38.5C36.3 38.5 36.3 38.5 36.3 38.5ZM47.8 37.5C47.7 37.7 47.9 37.8 48 37.9L52.8 40.1C53.4 40.4 54.1 39.9 54.3 39.2C54.5 38.6 54.1 37.8 53.5 37.7L48.2 37.2C48.2 37.2 48.2 37.2 48.1 37.2C48 37.3 47.9 37.4 47.8 37.5ZM39.2 35.7C39.1 35.9 39.2 36.1 39.3 36.2L50.6 43.6C51.2 44 52 43.7 52.4 43.1C52.8 42.5 52.6 41.6 51.9 41.3L39.6 35.6C39.5 35.6 39.5 35.6 39.4 35.6C39.4 35.5 39.3 35.6 39.2 35.7ZM31.6 35.3L26.2 54.5C25.9 55.5 26.6 56.4 27.6 56.6C27.7 56.6 27.8 56.6 28 56.6C28.8 56.6 29.6 56 29.7 55.2L32.4 35.5C32.4 35.3 32.3 35 32.1 35H32C31.8 35 31.6 35.1 31.6 35.3ZM36 34.3C35.8 34.4 35.8 34.6 35.9 34.8L43.9 50C44.3 50.7 45.2 50.9 45.9 50.5C46.6 50.1 46.9 49.1 46.4 48.5L36.4 34.5C36.3 34.4 36.2 34.3 36.1 34.3C36.1 34.2 36.1 34.2 36 34.3ZM54.5 34.1L43.3 34.9C43.1 34.9 43 35.1 43 35.2C43 35.4 43.2 35.5 43.3 35.5L54.5 36.4C55.2 36.5 55.7 35.9 55.7 35.2C55.7 34.7 55.2 34.1 54.5 34.1C54.6 34.1 54.5 34.1 54.5 34.1ZM33.9 31.5C33.7 31.5 33.5 31.7 33.5 31.9L33.4 54.3C33.4 55.2 34.2 55.9 35.1 55.8C36 55.8 36.7 55 36.6 54.1L34.2 31.9C34.3 31.6 34.1 31.5 33.9 31.5ZM55.1 30.8L50.3 32.6C50.1 32.7 50 32.8 50 33C50 33.2 50.2 33.3 50.4 33.3L55.5 32.9C56.1 32.9 56.4 32.2 56.3 31.6C56.2 31.1 55.8 30.7 55.3 30.7C55.3 30.7 55.2 30.7 55.1 30.8ZM28.6 30.8L10.3 47.3C9.4 48.1 9.5 49.5 10.4 50.4C11.3 51.2 12.7 51.3 13.5 50.3L29.4 31.4C29.6 31.2 29.6 30.9 29.4 30.7C29.3 30.6 29.2 30.6 29.1 30.6C28.9 30.6 28.7 30.7 28.6 30.8ZM32.7 28.3L17.8 52.1C17.2 53.1 17.6 54.5 18.7 55C19.7 55.6 21.1 55.2 21.6 54.1L33.6 28.7C33.7 28.5 33.6 28.2 33.4 28C33.3 28 33.2 27.9 33.2 27.9C33 28 32.8 28.1 32.7 28.3ZM54.9 26.7L46.3 32.2C46.1 32.3 46.1 32.5 46.2 32.7C46.3 32.9 46.5 32.9 46.7 32.8L56.1 28.9C56.7 28.6 56.9 27.9 56.6 27.3C56.4 26.9 55.9 26.6 55.5 26.6C55.2 26.6 55 26.6 54.9 26.7ZM28.3 24.6L1.8 29.9C0.7 30.1 0 31.2 0 32.3C0 32.5 0 32.7 0.1 33C0.5 34.3 1.9 35.2 3.1 34.7L28.6 25.8C28.9 25.7 29.1 25.4 29 25C28.9 24.7 28.7 24.5 28.4 24.5C28.4 24.5 28.3 24.5 28.3 24.6ZM33.9 24.2L4.6 39.5C3.4 40.1 3 41.7 3.7 42.9C4.4 44.1 6 44.5 7.1 43.8L34.4 25.4C34.7 25.2 34.8 24.8 34.6 24.5C34.5 24.3 34.3 24.2 34.1 24.2C34.1 24.1 34 24.2 33.9 24.2ZM54.1 22.5L51.1 26.8C51 27 51 27.2 51.1 27.3C51.2 27.4 51.4 27.4 51.6 27.3L55.9 24.2C56.4 23.8 56.4 23 55.9 22.5C55.7 22.3 55.3 22.1 55 22.1C54.6 22.1 54.3 22.2 54.1 22.5ZM0.4 22.3C0.4 23.7 1.5 24.9 2.9 24.8L37.2 22.8C37.6 22.8 37.8 22.5 37.8 22.2C37.8 21.8 37.5 21.6 37.2 21.6L2.9 19.8H2.8C1.5 19.8 0.4 21 0.4 22.3ZM52.5 17.5L47.1 29.2C47 29.4 47.1 29.6 47.2 29.7C47.4 29.8 47.6 29.7 47.7 29.6L54.6 18.7C55 18.1 54.7 17.4 54.1 17.1C53.9 17 53.7 16.9 53.5 16.9C53 16.9 52.6 17.1 52.5 17.5ZM49.8 12.9L48.6 21C48.6 21.2 48.7 21.4 48.8 21.4C49 21.4 49.2 21.3 49.2 21.2L52 13.6C52.2 13 51.8 12.3 51.1 12.1C51 12.1 50.9 12.1 50.8 12.1C50.3 12.1 49.8 12.4 49.8 12.9ZM4.7 12.5C4.3 13.8 5.1 15.3 6.5 15.5L32 20.3C32.3 20.4 32.6 20.2 32.7 19.9C32.8 19.6 32.6 19.3 32.3 19.2L7.8 10.7C7.6 10.6 7.3 10.6 7.1 10.6C6 10.6 5 11.4 4.7 12.5ZM46.6 7C45.9 7 45.4 7.5 45.4 8.2L46.4 25.9C46.4 26.1 46.6 26.2 46.7 26.2C46.9 26.2 47 26 47 25.9L47.7 8.2C47.9 7.5 47.3 7 46.6 7ZM11.8 5.2C11.2 6.2 11.6 7.5 12.6 8L40.6 22.1C40.9 22.2 41.2 22.2 41.3 21.9C41.4 21.6 41.3 21.3 41.1 21.2L14.6 4.4C14.3 4.2 13.9 4.1 13.6 4.1C12.9 4.2 12.2 4.6 11.8 5.2ZM39.6 2.6C38.8 2.8 38.3 3.7 38.6 4.5L44.4 20.1C44.5 20.3 44.7 20.4 44.9 20.4C45.1 20.3 45.2 20.1 45.2 19.9L41.5 3.6C41.4 2.9 40.7 2.5 40.1 2.5C39.9 2.5 39.7 2.5 39.6 2.6ZM20.9 1.1C20.2 1.8 20.2 3.1 21 3.8L38.2 18.3C38.4 18.5 38.7 18.5 38.9 18.3C39.1 18.1 39.1 17.8 38.9 17.6L23.5 1C23.2 0.6 22.7 0.5 22.2 0.5C21.8 0.5 21.2 0.7 20.9 1.1ZM30.5 0.3C29.7 0.8 29.3 1.9 29.9 2.8L43.9 23.2C44 23.4 44.3 23.5 44.6 23.4C44.8 23.3 44.9 23 44.8 22.7L33 0.9C32.7 0.3 32.1 0 31.5 0C31.2 0 30.8 0.1 30.5 0.3Z"
                fill="white"
              />
            </mask>
            <g mask="url(#a1)">
              <path d="M56.8 0H0V56.7H56.8V0Z" fill="url(#c3)" />
            </g>
          </g>
          <defs>
            <radialGradient
              id="c3"
              cx="0"
              cy="0"
              r="1"
              gradientUnits="userSpaceOnUse"
              gradientTransform="translate(37.8591 29.623) scale(47.2392 47.2392)"
            >
              <stop stopColor="#72C9F8" />
              <stop offset=".1" stopColor="#72C9F8" />
              <stop offset=".2" stopColor="#75AEF4" />
              <stop offset=".3" stopColor="#7A7EEE" />
              <stop offset=".4" stopColor="#7F58E9" />
              <stop offset=".5" stopColor="#823DE5" />
              <stop offset=".6" stopColor="#832DE3" />
              <stop offset=".6" stopColor="#8427E2" />
              <stop offset="1" stopColor="#8427E2" />
            </radialGradient>
            <clipPath id="b2">
              <rect width="56.6" height="56.7" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </Icon>
    </IconContainer>
  );
};

export const AppIcon: React.FC<{
  link: SystemLink;
}> = ({ link }) => {
  switch (link.name) {
    case 'IFS':
      return <IfsIcon />;
    case 'Salesforce':
      return <SalesforceIcon />;
    default:
      return (
        <IconContainer>
          <Icon>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 40 40"
              fill="none"
              transform={`rotate(${link.iconInfo?.rotation})`}
            >
              <path fill="#262626" d="M40 20a20 20 0 1 1-40 0 20 20 0 0 1 40 0Z" />
              <path
                fill={getThemeColor('brand-accent')}
                d="M2.9 30.38a126.98 126.98 0 0 1 34.17.04 19.98 19.98 0 0 1-34.17-.04Z"
              />
            </svg>
          </Icon>
          <IconLetters>{link.iconInfo?.iconLetters}</IconLetters>
        </IconContainer>
      );
  }
};
