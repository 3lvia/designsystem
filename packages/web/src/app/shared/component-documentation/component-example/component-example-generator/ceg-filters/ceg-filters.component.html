<div class="ceg-side-filters">
  <form
    class="ceg-side-filter e-form_field e-w-100"
    *ngFor="let prop of props; let i = index"
  >
    <!--Radios-->
    <div
      *ngIf="prop.cegFormType === 'radio'"
      [ngClass]="{ 'ceg-filter-margin': i !== props.length - 1 }"
    >
      <label class="e-form-field__label">{{ prop.displayName }}</label>
      <label
        *ngFor="let label of prop.cegOptions; let i = index"
        class="e-radio e-radio--sm"
        for="{{ label }}-radio"
        (change)="updateRadioProp(prop, label)"
      >
        <input
          type="radio"
          id="{{ label }}-radio"
          name="{{ prop.displayName }} radio"
          [checked]="label === prop.cegDefault"
        />
        <span class="e-radio__mark"></span>
        <span class="e-radio__label">
          {{ label }}
        </span>
      </label>
    </div>

    <!--Toggle-->
    <div
      *ngIf="prop.cegFormType === 'toggle'"
      [ngClass]="{ 'ceg-filter-margin': i !== props.length - 1 }"
    >
      <label class="e-form-field__label">{{ prop.displayName }}</label>
      <label
        class="e-toggle"
        (change)="updateToggleCheckboxProp(prop)"
      >
        <input
          *ngIf="prop.cegDefault === 'true'"
          class="e-toggle__input"
          type="checkbox"
          checked
        />
        <input
          *ngIf="prop.cegDefault === 'false'"
          class="e-toggle__input"
          type="checkbox"
        />
        <span class="e-toggle__slider"></span>
      </label>
    </div>

    <!--Checkbox-->
    <div
      *ngIf="prop.cegFormType === 'checkbox'"
      [ngClass]="{ 'ceg-filter-margin': i !== props.length - 1 }"
    >
      <div *ngFor="let checkboxProp of prop.modifiers; let i = index">
        <label
          class="e-form-field__label"
          *ngIf="i === 0"
        >{{ checkboxProp.cegDisplayGroup }}</label>
        <div *ngIf="checkboxProp.cegDisplayGroup === 'Modifiers'">
          <label
            class="e-checkbox e-checkbox--sm"
            for="{{ checkboxProp.displayName }}-checkbox"
            (change)="updateToggleCheckboxProp(checkboxProp)"
          >
            <input
              type="checkbox"
              id="{{ checkboxProp.displayName }}-checkbox"
              name="{{ checkboxProp.displayName }} checkbox"
            />
            <span class="e-checkbox__mark"></span>
            <span class="e-checkbox__label">{{ checkboxProp.displayName }}</span>
          </label>
        </div>
      </div>
    </div>

    <!--Counter-->
    <div
      *ngIf="prop.cegFormType === 'counter'"
      [ngClass]="{ 'ceg-filter-margin': i !== props.length - 1 }"
    >
      <label class="e-form-field__label">{{ prop.displayName }}</label>
      <div class="counter">
        <button
          class="e-btn e-btn--icon e-btn--circled e-btn--sm e-mr-8"
          [disabled]="counterNumber === prop.cegCounterMin"
          (click)="updateCounterProp(prop, -prop.cegStepValue)"
          type="button"
        >
          <span class="e-btn__icon">
            <i
              class="e-icon e-icon--subtract_circle"
              [ngClass]="{ 'e-icon--color-disabled': counterNumber === prop.cegCounterMin }"
            ></i>
            <i class="e-icon e-icon e-icon--subtract_circle-filled-color"></i>
          </span>
        </button>
        <span
          class="counter__number e-text-md"
          [ngClass]="{ small: prop.cegCounterMax < 10 }"
          *ngIf="counterNumber !== undefined"
        >
          {{ counterNumber }}{{ prop.cegCounterType }}
        </span>
        <span
          class="counter__number e-text-md"
          [ngClass]="{ small: prop.cegCounterMax < 10 }"
          *ngIf="counterNumber === undefined"
        >
          {{ prop.cegDefault }}{{ prop.cegCounterType }}
        </span>
        <button
          class="e-btn e-btn--icon e-btn--circled e-btn--sm e-ml-8"
          [disabled]="counterNumber === prop.cegCounterMax"
          (click)="updateCounterProp(prop, prop.cegStepValue)"
          type="button"
        >
          <span class="e-btn__icon">
            <i
              class="e-icon e-icon--add_circle"
              [ngClass]="{ 'e-icon--color-disabled': counterNumber === prop.cegCounterMax }"
            ></i>
            <i class="e-icon e-icon e-icon--add_circle-filled-color"></i>
          </span>
        </button>
      </div>
    </div>
  </form>
</div>